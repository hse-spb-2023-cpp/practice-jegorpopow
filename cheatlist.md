#Всё, что описывает устройство операционки в данном тексте - сильное упрощение

# Работа с командной строкой

Чаще всего вы запускаем программы из командной строки. Если коротко - то 
в неё записывается имя самой программы, параметры с которыми она запускается, и, 
опционально - откуда ей брать данные для потока ввода и куда отправлять данные из потока вывода.

`(имя программы/утилиты/команда) (параметры через пробел)`

Если вы хотите, чтобы программа считала данные из файла `name`, а не с клавиатуры - дописываете к этой строке
`< name`, если хотите что бы вывела в этот файл - то `> name` для перезаписывания и `>> name` для
дописывания в конец.


# Команды для работы с файловой системой

## pwd

Выводит имя текущей директории (в целом все шеллы указывают его слева от строки ввода)

## ls 

Выводит список поддиректорий и файлов.
Если вы не передали туда аргументы - то в текущей директории, если передали имя директории
в качестве аргумента - то в ней. 

`ls` - выведет что лежит в текущей директории

`ls /home` - выведет содержимое папки `/home`.

Полезные ключи:

`-a` - показывает даже скрытые файлы (Например, те, чьё имя начинается с точки, вроде
`.clang-format`)

`-l` - выводит больше фактов о каждом файле - размер/создателя и т.д.

`ls -al \etc` - выведет всё содержимое папки `etc` с нужной метаинформацией

## cd

Переходит в директорию, переданную в качестве параметра. Путь до новой директории
можно указать как относительный, так и абсолютный.

`cd /dev` - перейдёт в директорию `cd /dev`

`cd meow` - перейдёт в директорию `meow`, если в текущей директории лежит директория `meow`

При указании относительных путей, стоит помнить, что `..` - подняться на уровень выше, а
`.` - текущая директория.

Так `cd ../../woof/` - поднимется на 2 уровня вверх по файловой системе, найдёт там 
директорию `woof` и перейдёт туда.

## mkdir

Создаёт новую директорию  

## ls

`ls` - выведет что лежит в текущей директории

`ls /home` - выведет содержимое папки `/home`.

## touch

Если файл, переданный ей в качестве параметра существует - изменит дату последнего редактирования, 
иначе - создаст такой файл

# rm

Удаляет файлы. Ключ `-r` заставляет делать это рекурсивно(т.е. удалять подпапки, их подпапки и т.д.)
ОЧЕНЬ НЕБЕЗОПАСНО, рекомендуется использовать только совсем простым образом - удалять 
один конкретный файл, а то и вовсе не использовать

# Работа с текстом

## cat

Если в качестве параметра передано имя файла - выведет в стандартный поток вывода
содержимое файла, если не передано - продублирует стандартный входной поток в стандартный выходной.

`cat a.txt` - выведет в консоль содержимое `a.txt`

`cat a.txt >> c.out` - допишет содержимое `a.txt` в конец `c.out` 

## less 

То же самое, что и `cat`, только файлы читаются в интерактивном режиме. 
(Можно листать файл вверх-вниз стрелочками. Для выхода из этого режима нужно нажать `q`)

`less main.log`

Очень полезно, например, передавать `less` выходной поток компилятора или санитайзера - 
так будет удобнее читать сообщения об ошибках. 

Это делается примерно так:

`g++-12 -std=c++17 -Wall -Wextra -o main test.cpp | less`

`valgrind ./main | less`

#Компилятор 

clang старается поддерживать совместимость по интерфейсу командной строки с g++, так что
запоминать придётся лишь один набор флагов. Собственно имя файла с исходным кодом передаёте
компилятору в качестве параметра вместе с каким-то подмножеством следующих флагов

## -std=(имя стандарта)
Задаёт стандарт плюсов, с которым компилируется ваш код. Скорее всего будут 
встречаться `-std+c++17`, `-std+c++20`, `-std+c++14`.

## -o (имя выходного файла)
Задаёт имя исполняемого файла, который создаст компилятор. По умолчанию - `a.out`

## -Wall
включает больше предупреждений компилятора

## -Wextra
включает ещё больше предупреждений компилятора

## -Werror 
трактует исключения как ошибки

## -fsanitize=address или -fsanitize=address
Добавляет в рантайм санитайзер - код, следящий за корректностью исполнения программы.
Если что-то пошло не так во время исполнения - санитайзер ругнётся и раскажет, что случилось

## -ggdb
добавляет в бинарник какую-то информацию о исходниках для дебаггеров и санитайзеров

Получается что-то вроде

`g++-12 -std=c++17 -Wall -Wextra -Werror -o main main.cpp`

`clang++-14 -std=c++17 -fsanitize=undefined -Wall -Wextra -Werror -o main main.cpp`


# clang-format

Форматирует код в файле, если указан флаг `-i` или выводит отформатированную версию в стандартный поток вывода, 
если не указан.

`clang-format -i main.cpp` - отредактирует файл `main.cpp`

Настройки для форматирования clang-format читает из файла `.clang-format`, который
ищет в текущей директории, потом на уровень выше, и т.д. 

Файл с настройками лежит во всех репозиториях, пользуйтесь именно им.

# clang-tidy

Статический анализатор, выдаёт предупреждения на подозрительный код.

`clang-tidy main.cpp` - инспектирует файл `main.cpp`

Настройки для диагностики clang-tidy читает из файла `.clang-tidy`, который
ищет в текущей директории, потом на уровень выше, и т.д.

Файл с настройками лежит во всех репозиториях, пользуйтесь именно им.

# cppcheck

Тот же функционал, что и у clang-tidy.

`cppcheck main.cpp`

Обычно нужно добавить какие-то ключи, в условиях лаб написано, какие

# valgrind

Санитайзер.

Запускаете `valgrind ./main` - и он сообщает о нарушениях работы с памятью. 
Несовместим с address sanitizer.

# запуск исполняемых файлов и скриптов

Просто пишете `./(имя файла)`. Если это исполняемый файл, как, например, те, что
выдаёт компилятор, то он запустится, если это скрипт, начинающийся с шебанга `#!` - тоже

# sudo 

Если у вас нет разрешения запускать файл или программу,
но нужно - пишите `sudo (команда)`.

# Специфичное 

## dos2unix / unix2dos

Меняет виндовые и линуксовые переводы строк

`dos2unix tests.txt`

Может понадобиться, если в склоировали репозиторий с лабами под Windows, а запускаете `run-test-data.sh` через WSL.
Если при этом выдаётся что-то вроде `no such file` - и обрезки какого-то имени файла, то это этот случай.

## chmod 

Меняет разрешения чтения/просмотра/исправления у файла. Если вы скачали репозиторий архив, то `run-test-data.sh`,
вероятно, запрешен к запуску (как потенциально небезопасный). Сделайте `chmod +x run-test-data.sh` 

